(()=>{var t={600:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const s='<svg width="180" height="45" viewBox="0 0 180 45" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M176 45H5.25H3V44.3023H2.25V42.907H1.5V41.8605H0.75V41.1628V40.1163H0V36.6279H0.5V35.9302H1.25V33.4884H0.75V31.3953H2.25V32.4419H3V28.9535H4V27.907H6.25V27.2093H8.5V25.814H10.25V27.2093H11.5V28.9535H9.5V30H6.75V31.0465H5.25V32.4419H4.5V34.5349H3.75V35.9302H5.75V34.5349H7V36.2791H7.75V34.5349H8.5H23.25V35.5814H24.75V36.6279H28.75V35.5814H30.25V34.5349H32V35.5814H34.25V34.5349H35V33.4884H35.75H43.5V32.093H45.75V30.6977H47.5V32.093H49.25V31.0465H50.5V30H51.25V31.0465H52.25V27.907H53.25V26.8605H54.25V23.7209H55V24.7674H55.75V25.4651H56.5V28.9535H57.5V27.907H58.5V25.4651H59.25V21.9767H59.75V19.5349H61.5V21.9767H62.25V25.1163H63V28.9535H67L66.75 11.5116H64.5V10.4651H63.75V9.4186H66H67V6.97674H67.75V15H68.25V17.093H68.75H70.25V15H72V16.0465H73V17.7907H74V22.6744H74.5V24.0698H75.5V24.7674H76.25V25.4651H77V23.3721H77.75H78.5V26.8605H80.75V27.907H81.75V32.4419H82.5V26.8605H84.25V17.093H85V16.0465H86.5V15H88.75V13.6047H90.25V0H92V10.4651H93.5V6.97674H94.25V5.23256H95.75V6.97674H96.75V10.4651H98V12.907H98.75V15.3488H96.25V17.7907H97.25V17.093H98.75V17.7907V20.5814H96.75V23.3721H98.75V24.7674H100.5V23.3721V20.5814H101.25V18.8372H102.5V22.3256H105.25V23.3721H107.5V26.8605H109.25V28.9535H107.5V31.7442H108.5V34.186H110.25V30.3488H112.5V28.9535H114.75V30.3488H118.75V31.7442H128.5L129.75 33.1395H133L135.75 35.2326H168.75L172.75 33.1395H180L176 41.5116V45Z" fill="#E5E7EB"/>\n</svg>\n'},892:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const s='<svg width="225" height="45" viewBox="0 0 225 45" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M215.661 45H6.71206H6.42023V43.2597H4.66926V42.5138H2.91829V42.0166H2.33463V41.2707H1.16732V40.5249H0V38.5359H1.16732V37.0442H4.0856V34.558H2.33463V32.5691H44.9416V31.8232H48.4436V32.5691H49.0272V33.3149H50.1945V32.5691H52.2374V33.3149H53.6965V32.5691H54.8638V31.0773H54.2802V30.3315H52.821V29.337H54.2802V27.8453H55.7393V26.3536H54.8638V24.8619H55.7393V21.8785H54.2802V21.1326H52.821V20.3867H54.2802V19.1436H55.7393V17.6519H60.1167V14.6685H58.6576V13.9227H56.9066V12.1823H58.6576V11.4365H60.1167V2.98343H55.7393V0H62.1595V9.69613H63.9105V11.4365H65.9533V13.9227H66.8288V15.663H65.9533V16.4088H65.3696H63.9105V15.663H63.035V17.9006H66.8288V18.6464H63.9105V21.1326H65.9533V23.3702H63.9105V25.6077H65.3696V29.337H66.8288V25.6077H67.4124V24.8619H70.0389V25.8564H70.9144V27.3481H74.1245V24.8619H72.0817V23.3702H72.9572V22.6243H74.1245V21.8785H75.5837V22.6243H77.6265V16.1602H78.5019V13.9227H77.3346V13.1768H82.2957V15.663H81.1284V16.6575H82.2957V22.6243H93.0934V25.6077H91.9261V27.0994H93.0934V27.8453H95.7198V26.3536H100.389V27.3481H103.891V27.8453H105.058V32.5691H105.934V33.3149H106.809V30.0829H107.685V29.5856H108.56V28.5912H117.315V29.5856H118.482V30.3315H119.358V31.8232H124.903V32.5691H125.778V33.3149H126.654V32.3204H127.529V31.8232H129.572V32.5691H130.156V33.3149H133.658V32.5691H135.7V33.3149H139.494V32.3204H137.451V31.0773H144.747V31.5746H146.498V31.0773H147.374V31.8232H148.249V33.3149H150.292V32.3204H151.167V31.8232H152.043V31.0773H161.089V31.8232L225 32.0718V35.0552H223.833V35.5525H222.957V36.2983H222.082V37.0442H220.914V38.0387H220.331V38.7845H218.288V41.0221H217.412V43.5083H216.537H215.661V45Z" fill="#E5E7EB"/>\n</svg>\n'},767:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const s='<svg width="135" height="45" viewBox="0 0 135 45" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M134.442 45H0.743802V43.8559H1.8595V42.7119H1.4876V41.9492H0.743802V40.4237H0V36.6102H1.8595V39.2797H2.78926V36.9915H5.95041V39.2797L16.3636 38.8983V35.8475H14.5041V33.178H16.9215V31.6525H20.6405V35.4661H21.1983V36.6102H19.5248V38.8983H21.9421V31.6525H24.3595V33.178H25.1033V32.0339H26.0331V29.7458H24.9174V26.6949H26.0331V25.9322H26.5909V24.7881H30.4959V27.4576H31.0537V29.7458H30.3099V32.0339H33.4711V28.9831H32.3554V26.6949H32.9132H34.9587V28.6017H37.376V27.4576H39.4215V29.7458H41.095V28.2203H42.2107V26.6949H43.6983V28.2203H44.4422V31.6525H45.3719V36.6102H44.6281V38.8983H45V40.0424H46.3017V37.7542H47.0455V36.6102H48.5331V32.0339H49.0909V29.7458H48.5331V24.7881H49.0909V22.1186H50.3926V24.0254H51.6942V27.4576H50.3926V29.7458H51.5083V32.0339H52.0661V29.7458H54.6694V31.6525H55.7851V29.7458H56.9008V24.7881H56.343V23.6441H55.9711V11.4407H56.7149V10.678H58.3884V15.6356H59.1322V24.0254H60.4339V28.6017H61.3636V29.3644H61.9215V32.0339H65.6405V30.1271H63.781V28.2203H65.6405V27.0763H66.7562V28.6017H72.3347V30.8898H69.1736V32.0339H74.7521V21.3559H74.1942V20.2119H73.6364V7.24576H74.1942V6.1017H76.9835V7.24576H77.7273V24.0254H78.2851V28.6017H79.4008V32.0339H82.9339V29.7458H84.0496V32.0339H85.3512V29.7458H86.095V28.2203H85.3512V25.9322H83.8636V27.4576H82.9339V17.9237H82.1901V14.1102H82.9339V15.6356H84.4215V14.1102H83.8636V11.822H86.4669V6.48305H87.0248V3.81356H86.095V0H88.6983V1.52542H89.4421V3.81356H90.186V11.822H93.5331V16.7797H95.5785V17.9237H96.1364V19.0678H96.6942V24.0254H97.9959V25.1695H98.5537V19.0678H102.087V20.2119H103.202V21.3559H103.76V25.9322H104.318V28.6017H104.876V32.0339H107.851V29.7458H107.293H106.55V28.2203H106.178V27.0763H107.293V25.9322H106.736V24.4068H106.178V23.6441H110.64V26.3136H112.5V32.0339H119.38V30.8898H119.938V29.7458H135V34.322H134.442V41.5678H133.884V42.7119H133.326V43.8559H134.442V45Z" fill="#E5E7EB"/>\n</svg>\n'},357:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const s='<svg width="90" height="45" viewBox="0 0 90 45" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M58.5577 45H9.23077H8.94231V43.7266H7.21154V42.8775H5.48077V41.1794H4.32692V39.9058H3.46154V37.3586H2.88462V35.6605H2.01923V33.1133H0.865385V31.8398H0V28.019H6.34615V29.2926H7.78846V30.5662H8.36538H10.0962V28.4435H10.9615V26.7454H13.2692V28.019H14.7115V30.5662H18.1731V29.7171H19.6154V23.3491H23.3654V25.4718H25.0962V28.019H23.6538V29.7171H27.4038V17.4057H28.5577V15.7076H31.4423V16.9812H32.5962V18.2548H34.0385V16.9812H36.0577V18.6793H37.5V13.585H36.6346V12.3114H35.7692V10.1887H37.2115V0H39.5192V22.5001H43.5577V21.651H44.4231V19.9529H45.5769V17.4057H44.7115V13.1604H43.8462V11.8868V10.6132H47.5962V22.5001H49.9038V19.5284H51.9231V21.2265H53.0769V22.5001H53.9423V27.5944H55.0962V30.5662H54.2308V31.8396L60.2885 31.8398V28.0188H58.2692V25.2678H59.1346V24.1982H63.1731V26.7454H62.0192V31.8398H66.3462V29.2924H67.5V28.0188H69.2308V31.8396H71.8269V26.7454H70.6731V25.2678H71.5385V22.9246H72.6923V25.2678H75.5769V28.0188H76.1538V30.566H75.2885V32.2641H77.3077V30.566H78.4615V31.8396H79.3269V28.8679H80.1923V27.5943H83.0769V28.8679H86.25V30.566H87.6923V29.2924H88.5577V28.0188H90V31.8396H89.1346V37.3585H86.5385V39.9056H87.9808V45H85.3846V39.9056H84.2308V37.3585H83.6538V39.0566H83.0769V39.9056H78.4615V41.1792H77.3077V42.0283H74.4231V43.7264H58.5577V45Z" fill="#E5E7EB"/>\n</svg>\n'},432:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const s='<svg width="135" height="45" viewBox="0 0 135 45" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M116.898 43.1119H30.6818V42.1678H25.1591V40.9091H18.4091V39.965H16.5682H14.4205V39.021H11.6591V38.3916H9.81818V40.9091H8.59091V43.1119H7.67045V45H3.98864V40.9091H3.06818V39.021H2.14773V35.2448H0.920455V34.3007H0V33.042H0.920455V32.0979H2.14773V27.3776H3.06818V26.4336H3.98864V22.6573H7.67045V23.6014H8.59091V26.4336H9.20455V27.3776H10.4318V29.2657H14.4205V28.3217H22.0909V27.3776H27.9205V26.4336H36.2045V25.1748H37.4318V24.2308H38.3523V23.2867H39.5795V22.3427H90.8182V18.5664H91.7386V14.7902H92.9659V11.6434H96.6477V4.09091H98.4886V11.6434H100.33V0H101.557V11.6434H102.477V10.6993H104.318V11.6434H105.239V12.5874H106.159V23.6014H114.75V24.5455H123.341V25.4895H127.33V26.4336H129.17V27.3776H131.318V28.3217H133.159V29.5804H133.773V30.2098H135V36.1888H133.773V37.1329H132.852V38.3916H131.932V39.021H131.011V40.2797H127.33V40.9091H123.648V42.1678H116.898V43.1119Z" fill="#E5E7EB"/>\n</svg>\n'},289:(t,e,i)=>{var s={"./battleship.svg":600,"./carrier.svg":892,"./destroyer.svg":767,"./small.svg":357,"./submarine.svg":432};function n(t){var e=r(t);return i(e)}function r(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id=289}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,i),r.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";function t(t,e,i){const s=document.createElement("button");s.className="btn btn-gamemode";const n=document.createElement("div");n.className="btn-gamemode-text";const r=document.createElement("div");r.className="btn-gamemode-text-play",r.textContent="PLAY VS.";const a=document.createElement("div");return a.className="btn-gamemode-text-opponent",a.textContent=t,s.innerHTML=e,n.append(r,a),s.appendChild(n),s.addEventListener("click",i),s}class e{constructor(t,e,i=!0){this.name=t,this.length=e,this.horizontal=i,this.hits=0}hit(){this.hits+=1}isSunk(){return this.hits>=this.length}reset(){this.hits=0,this.horizontal=!0}}function s(t){return new Promise((e=>{setTimeout(e,t)}))}const n=t=>{const e="string"==typeof t?document.querySelector(t):t;e&&e instanceof HTMLElement&&e.classList.remove("hidden")},r=t=>{const e="string"==typeof t?document.querySelector(t):t;e&&e instanceof HTMLElement&&e.classList.add("hidden")},a=async(t,e)=>{const i="string"==typeof t?document.querySelector(t):t,a="string"==typeof e?document.querySelector(e):e;i.classList.add("bounce"),await s(300),r(i),n(a),i.classList.remove("bounce"),a.classList.add("slide-up"),await s(300),a.classList.remove("slide-up")};function h(t){for(;t.firstChild;)t.removeChild(t.firstChild)}const o=(l=i(289)).keys().reduce(((t,e)=>{const i=e.replace("./","").replace(".svg","").replace(/-/g,"-");return{...t,[i]:l(e).default}}),{});var l;const d=t=>o[t];class c{constructor(t,e=null){this.container=document.querySelector(t),this.className=e}clear(){h(this.container)}render(t){this.clear(),t.forEach((t=>{this.container.appendChild(this.createShip(t))}))}createShip({name:t,length:e,horizontal:i}){const s=document.createElement("div");return s.className=this.className?`ship ${this.className}`:"ship",s.innerHTML=d(t),s.dataset.name=t,s.dataset.length=e,s.dataset.horizontal=i,s}}class H{constructor(t,e,i,s){this.container=document.querySelector(t),this.ships=new c(e,"ship-bot"),this.shipsArr=i,this.flipScreen=s}open(t,e){this.flipScreen.setHidden(this.container),this.ships.render(this.shipsArr),a(t,this.container);const i=[...this.shipsArr],s=()=>{if(0===i.length)return void e();const t=i.pop();if(t&&t.name){const e=this.ships.container.querySelector(`[data-name="${t.name}"]`);e&&e.remove()}setTimeout(s,500)};setTimeout(s,500)}}class p{constructor(t,e,i=".main"){this.container=document.querySelector(t),this.hiddenScreen=i?document.querySelector(i):null,document.querySelector(e).innerHTML='<svg width="206" height="206" viewBox="0 0 206 206" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_176_19)">\n<path d="M125.608 40.0102C123.513 37.9454 120.685 36.7972 117.744 36.8181C114.803 36.839 111.99 38.0274 109.926 40.1217L39.8572 111.194C37.7924 113.288 36.6441 116.117 36.665 119.058C36.686 121.999 37.8743 124.811 39.9687 126.876L79.4531 165.803C81.5475 167.868 84.3764 169.016 87.3174 168.995C90.2584 168.974 93.0706 167.786 95.1354 165.691L165.204 94.6194C167.269 92.525 168.417 89.6961 168.396 86.7551C168.375 83.8141 167.187 81.0019 165.092 78.9371L125.608 40.0102ZM87.2385 157.906L47.7541 118.979L117.822 47.9071L127.694 57.6388L125.775 63.5336L141.569 79.1044L147.436 77.1023L157.307 86.834L87.2385 157.906Z" fill="#E0FFFF"/>\n</g>\n<path d="M177.784 105.819C178.046 104.183 176.933 102.644 175.297 102.382C173.661 102.12 172.122 103.234 171.86 104.87L177.784 105.819ZM99.5049 176.459C98.5055 177.781 98.7667 179.662 100.088 180.662L121.624 196.947C122.946 197.946 124.827 197.685 125.826 196.364C126.826 195.042 126.564 193.161 125.243 192.161L106.1 177.685L120.576 158.543C121.575 157.221 121.314 155.34 119.993 154.34C118.671 153.341 116.79 153.602 115.79 154.924L99.5049 176.459ZM171.86 104.87C167.817 130.097 161.605 145.883 151.037 156.249C140.475 166.608 125.086 172.021 101.485 175.297L102.31 181.24C126.263 177.915 143.263 172.278 155.239 160.532C167.208 148.792 173.682 131.418 177.784 105.819L171.86 104.87Z" fill="#E0FFFF"/>\n<path d="M26.4071 100.8C26.4865 102.455 27.8924 103.732 29.5474 103.653C31.2023 103.573 32.4796 102.167 32.4002 100.512L26.4071 100.8ZM106.446 32.412C107.745 31.3835 107.965 29.4968 106.936 28.1977L90.1768 7.02879C89.1484 5.72975 87.2616 5.5104 85.9626 6.53883C84.6635 7.56727 84.4442 9.45406 85.4726 10.7531L100.37 29.5699L81.553 44.4671C80.254 45.4956 80.0346 47.3824 81.063 48.6814C82.0915 49.9804 83.9783 50.1998 85.2773 49.1713L106.446 32.412ZM32.4002 100.512C31.1792 75.05 44.0853 57.7027 59.9825 46.8763C67.955 41.4468 76.6474 37.6905 84.5885 35.4418C92.5754 33.1802 99.5983 32.5004 104.238 33.0398L104.931 27.0799C99.2526 26.4198 91.3986 27.2776 82.9538 29.6688C74.4632 32.0731 65.1691 36.0849 56.6052 41.9171C39.4294 53.6142 25.0627 72.7645 26.4071 100.8L32.4002 100.512Z" fill="#E0FFFF"/>\n<defs>\n<clipPath id="clip0_176_19">\n<rect width="133.072" height="133.072" fill="white" transform="translate(101.861 8.81299) rotate(44.5926)"/>\n</clipPath>\n</defs>\n</svg>\n',screen.orientation.addEventListener("change",this.handleChange.bind(this)),window.addEventListener("resize",this.handleChange.bind(this)),window.addEventListener("load",this.handleChange.bind(this))}setHidden(t){this.hiddenScreen="string"==typeof t?document.querySelector(t):t}open(){n(this.container),this.hiddenScreen&&r(this.hiddenScreen)}close(){r(this.container),this.hiddenScreen&&n(this.hiddenScreen)}handleChange(){window.innerHeight>window.innerWidth?this.open():this.close()}}class V{constructor(t,e,i){this.container=document.querySelector(t),this.button=this.container.querySelector(".btn"),this.flipScreen=i,this.button.addEventListener("click",e)}open(){n(this.container),this.flipScreen.setHidden(this.container)}close(){r(this.container)}}class g extends V{constructor(t,e,i){super(t,(()=>{i.setHidden(e),a(t,e)}),i),this.winner=this.container.querySelector(".message-text-winner")}open(t){super.open(),this.winner.textContent=`${t.name} won the game!`}}class m{constructor(t=10){this.size=t,this.grid=Array.from({length:this.size},(()=>Array.from({length:this.size},(()=>({ship:null,attacked:!1}))))),this.ships=[]}isAdjacentToShip(t,e){return[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]].some((([t,e])=>t>=0&&t<this.size&&e>=0&&e<this.size&&this.grid[t][e].ship))}checkPlacement({length:t,horizontal:e},i,s,n){if(e){if(s+t>this.size)return!1;for(let e=s;e<s+t;e+=1)if(n(i,e))return!1}else{if(i+t>this.size)return!1;for(let e=i;e<i+t;e+=1)if(n(e,s))return!1}return!0}isValidPlacement(t,e,i){return this.checkPlacement(t,e,i,((t,e)=>this.isAdjacentToShip(t,e)))}placeShip(t,e,i){return!!this.isValidPlacement(t,e,i)&&(this.ships.push(t),this.checkPlacement(t,e,i,((e,i)=>(this.grid[e][i]={ship:t,attacked:!1},!1))),!0)}removeShip(t,e){const{ship:i}=this.grid[t][e];return!!i&&(this.ships=this.ships.filter((t=>t!==i)),this.checkPlacement(i,t,e,((t,e)=>(this.grid[t][e]={...this.grid[t][e],ship:null},!1))),!0)}rotateShip(t,e){const{ship:i}=this.grid[t][e];return!!i&&(this.checkPlacement(i,t,e,((t,e)=>(this.grid[t][e]={...this.grid[t][e],ship:null},!1))),i.horizontal=!i.horizontal,this.isValidPlacement(i,t,e)?(this.placeShip(i,t,e),!0):(i.horizontal=!i.horizontal,this.placeShip(i,t,e),!1))}receiveAttack(t,e){if(t<0||t>=this.size||e<0||e>=this.size)return!1;const{ship:i,attacked:s}=this.grid[t][e];return!s&&(i&&i.hit(),this.grid[t][e]={ship:i,attacked:!0},!0)}getShipStartCoords(t,e){const{ship:i}=this.grid[t][e];if(!i)return null;let[s,n]=[t,e];if(i.horizontal)for(;n>0&&this.grid[s][n-1].ship===i;)n-=1;else for(;s>0&&this.grid[s-1][n].ship===i;)s-=1;return{x:s,y:n}}allShipsSunk(){return!(!this.ships||0===this.ships.length)&&this.ships.every((t=>t.isSunk()))}randomize(t){const e=[...t];for(;e.length>0;){const t=e.pop();let i,s;do{i=Math.floor(Math.random()*this.size),s=Math.floor(Math.random()*this.size),t.horizontal=Math.random()<.5}while(!this.placeShip(t,i,s))}}clear(){this.ships=[];for(let t=0;t<this.size;t+=1)for(let e=0;e<this.size;e+=1)this.grid[t][e]={ship:null,attacked:!1}}}class u{constructor(t="HUMAN",e=!1){this.name=t,this.computer=e,this.gameboard=new m}attack({gameboard:t},e,i){return t.receiveAttack(e,i)}}function v(t){return JSON.parse(JSON.stringify(t)).map((t=>{const{name:i,length:s,horizontal:n,hits:r}=t,a=new e(i,s,n);return a.hits=r,a}))}function y(t){const{size:e}=t;let i,s;do{i=Math.floor(Math.random()*e),s=Math.floor(Math.random()*e)}while(t.grid[i][s].attacked);return{x:i,y:s}}class S{constructor(t){this.container=document.querySelector(t),this.gameboard=null,this.placedShips=new Set}init(t){this.gameboard=t,this.placedShips=new Set}clear(){h(this.container)}render(){this.clear();const{size:t}=this.gameboard;for(let e=0;e<t;e+=1)for(let i=0;i<t;i+=1){const t=document.createElement("div");t.classList.add("grid-item"),t.dataset.x=e,t.dataset.y=i,t.style.gridArea=`${e+1} / ${i+1}`,this.container.appendChild(t)}}renderShip(t,e,i){const{name:s,length:n,horizontal:r}=t,a=document.createElement("div");return a.classList.add("ship-placed"),a.innerHTML=d(s),a.dataset.name=s,a.dataset.length=n,a.dataset.horizontal=r,a.style.gridArea=this.calculateGridArea(t,e,i),a.style.width=this.calculateShipWidth(i+1,n),r||a.classList.add("ship-placed-vertical"),this.container.appendChild(a),this.placedShips.add(t.name),a}calculateShipWidth(t,e){const i=this.gameboard.size;if(t+e-1<=i)return"100%";const s=i-t+1;return`${Math.round(e/s*100*100)/100}%`}calculateGridArea({length:t},e,i){return`${e+1} / ${i+1} / span 1 / span ${t}`}}class f extends S{constructor(t,e,i,s){super(t),this.onActiveChange=e,this.onShipSunk=i,this.onGameOver=s,this.player=null,this.opponentGrid=null,this.active=!1,this.botHitCoords=null,this.botHitOrientation=null,this.botHitDirection=null,this.container.addEventListener("click",this.handleCellClick.bind(this))}init(t,e){super.init(t.gameboard),this.player=t,this.opponentGrid=e,this.render()}attack(t,e,i,s,n=!1){const{gameboard:r}=this.player,a=r.grid[i][s];if(a.attacked)return;e.attack(this.player,i,s);const h=t,{ship:o}=a;if(o){if(o.isSunk()){if(r.allShipsSunk())return this.active=!1,void this.onGameOver(e);const{x:t,y:a}=r.getShipStartCoords(i,s);return this.renderShip(o,t,a),this.onShipSunk(this.player,o),void(n&&(this.botHitCoords=null,this.botHitOrientation=null,this.botHitDirection=null))}return h.classList.add("grid-item-hit"),h.innerHTML='<svg width="43" height="43" viewBox="0 0 43 43" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M37.5255 11.4882L27.0137 22L37.5255 32.5118C37.8304 32.8062 38.0735 33.1585 38.2408 33.5479C38.4081 33.9374 38.4962 34.3563 38.4999 34.7801C38.5036 35.204 38.4228 35.6243 38.2623 36.0166C38.1018 36.4089 37.8648 36.7653 37.565 37.065C37.2653 37.3648 36.9089 37.6018 36.5166 37.7623C36.1243 37.9228 35.704 38.0036 35.2801 37.9999C34.8563 37.9962 34.4374 37.9081 34.0479 37.7408C33.6585 37.5735 33.3062 37.3304 33.0118 37.0255L22.5 26.5137L11.9882 37.0255C11.6938 37.3304 11.3415 37.5735 10.9521 37.7408C10.5626 37.9081 10.1437 37.9962 9.71989 37.9999C9.29604 38.0036 8.8757 37.9228 8.48339 37.7623C8.09109 37.6018 7.73468 37.3648 7.43496 37.065C7.13524 36.7653 6.89821 36.4089 6.73771 36.0166C6.5772 35.6243 6.49644 35.204 6.50012 34.7801C6.5038 34.3563 6.59186 33.9374 6.75916 33.5479C6.92646 33.1585 7.16964 32.8062 7.47453 32.5118L17.9863 22L7.47453 11.4882C7.16964 11.1938 6.92646 10.8415 6.75916 10.4521C6.59186 10.0626 6.5038 9.64374 6.50012 9.21989C6.49644 8.79604 6.5772 8.3757 6.73771 7.98339C6.89821 7.59109 7.13524 7.23468 7.43496 6.93496C7.73468 6.63524 8.09109 6.39821 8.48339 6.23771C8.8757 6.0772 9.29604 5.99644 9.71989 6.00012C10.1437 6.0038 10.5626 6.09186 10.9521 6.25916C11.3415 6.42646 11.6938 6.66964 11.9882 6.97453L22.5 17.4863L33.0118 6.97453C33.3062 6.66964 33.6585 6.42646 34.0479 6.25916C34.4374 6.09186 34.8563 6.0038 35.2801 6.00012C35.704 5.99644 36.1243 6.0772 36.5166 6.23771C36.9089 6.39821 37.2653 6.63524 37.565 6.93496C37.8648 7.23468 38.1018 7.59109 38.2623 7.98339C38.4228 8.3757 38.5036 8.79604 38.4999 9.21989C38.4962 9.64374 38.4081 10.0626 38.2408 10.4521C38.0735 10.8415 37.8304 11.1938 37.5255 11.4882Z" fill="#DC2626"/>\n</svg>\n',void(n&&(this.determineBotOrientation(i,s),this.botHitCoords={x:i,y:s}))}if(h.classList.add("grid-item-attacked"),h.innerHTML='<svg width="43" height="43" viewBox="0 0 43 43" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M21.5 38C30.3366 38 37.5 30.8366 37.5 22C37.5 13.1634 30.3366 6 21.5 6C12.6634 6 5.5 13.1634 5.5 22C5.5 30.8366 12.6634 38 21.5 38ZM21.5 34C28.1274 34 33.5 28.6274 33.5 22C33.5 15.3726 28.1274 10 21.5 10C14.8726 10 9.5 15.3726 9.5 22C9.5 28.6274 14.8726 34 21.5 34Z" fill="white"/>\n</svg>\n',n&&this.botHitCoords){const{x:t,y:e}=this.botHitCoords,{ship:i}=r.grid[t][e];i&&i.isSunk()||(this.botHitDirection=this.flipDirection(this.botHitOrientation,this.botHitDirection))}this.active=!1,this.opponentGrid.active=!0,this.onActiveChange(this.opponentGrid.player),this.player.computer&&!n&&this.handleBotTurn()}renderShip(t,e,i){const s=super.renderShip(t,e,i);s.classList.add("ship-placed-sunk");const{horizontal:n,length:r}=t,a=(t,e)=>{const i=this.container.querySelector(`[data-x="${t}"][data-y="${e}"]`);i&&(i.innerHTML="")};if(n)for(let t=i;t<i+r;t+=1)a(e,t);else for(let t=e;t<e+r;t+=1)a(t,i);return s}handleCellClick(t){const e=this.opponentGrid.player;if(!this.active||e.computer)return;const i=t.target.closest(".grid-item");if(!i)return;const[s,n]=i.style.gridArea.split(" / "),r=parseInt(s,10)-1,a=parseInt(n,10)-1;this.attack(i,e,r,a)}handleBotTurn(){const t=()=>{if(this.active)return;let e,i;this.opponentGrid.botHitCoords?(({x:e,y:i}=this.getBotAdjacentCoords()),null!==e&&null!==i||({x:e,y:i}=y(this.opponentGrid.player.gameboard))):({x:e,y:i}=y(this.opponentGrid.player.gameboard));const s=this.opponentGrid.container.querySelector(`[data-x="${e}"][data-y="${i}"]`);this.opponentGrid.attack(s,this.player,e,i,!0),setTimeout(t,1e3)};setTimeout(t,1e3)}getBotAdjacentCoords(){let{x:t,y:e}=this.opponentGrid.botHitCoords;const{gameboard:i}=this.opponentGrid.player,{size:s,grid:n}=i,{botHitOrientation:r,botHitDirection:a}=this.opponentGrid;if(!r||!a){return[{x:t,y:e+1},{x:t,y:e-1},{x:t+1,y:e},{x:t-1,y:e}].find((({x:t,y:e})=>t>=0&&t<s&&e>=0&&e<s&&!n[t][e].attacked))||{x:null,y:null}}const h={horizontal:{right:{x:0,y:1},left:{x:0,y:-1}},vertical:{top:{x:1,y:0},bottom:{x:-1,y:0}}};let o=h[r][a];for(;n[t][e].attacked;){const i=t+o.x,n=e+o.y;if(i<0||i>=s||n<0||n>=s){const t=this.flipDirection(r,a);this.opponentGrid.botHitDirection=t,o=h[r][t]}t+=o.x,e+=o.y}return{x:t,y:e}}flipDirection(t,e){if(!t||!e)return null;return{horizontal:{right:"left",left:"right"},vertical:{top:"bottom",bottom:"top"}}[t][e]}determineBotOrientation(t,e){if(!this.botHitCoords)return void(this.botHitOrientation=null);const{x:i,y:s}=this.botHitCoords;i===t&&1===Math.abs(s-e)?(this.botHitOrientation="horizontal",this.botHitDirection=Math.random()>.5?"right":"left"):s===e&&1===Math.abs(i-t)&&(this.botHitOrientation="vertical",this.botHitDirection=Math.random()>.5?"top":"bottom")}}class C{constructor(t,e){this.shipsArr=v(t),this.onGameOver=e,this.wrapper=document.querySelector(".gameplay"),this.player1=null,this.player2=null,this.elements={player1:this.createElements("player-1"),player2:this.createElements("player-2")}}init(t,e){this.player1=t,this.player2=e,[t,e].forEach(((t,e)=>{const i=this.elements[`player${e+1}`],{grid:s,ships:n,name:r}=i,a=this.elements["player"+(0===e?2:1)].grid;s.init(t,a),s.active=1===e,r.textContent=t.name,n.render(v(this.shipsArr)),0===e&&this.activate(i,!1)}))}createGrid(t){return new f(t,this.onActiveChange.bind(this),this.onShipSunk.bind(this),this.onGameOver.bind(this))}createElements(t){return{name:document.querySelector(`.gameplay-wrapper-${t}`).querySelector(`.gameplay-name-${t}`),grid:this.createGrid(`.grid-gameplay-${t}`),ships:new c(`.gameplay-ships-${t}`,"ship-gameplay")}}getElements(t){return t===this.player1?this.elements.player1:t===this.player2?this.elements.player2:null}activate(t,e){const{name:i,grid:s}=t,{container:n}=s;e?(i.classList.remove("gameplay-name-inactive"),n.classList.remove("grid-gameplay-inactive")):(i.classList.add("gameplay-name-inactive"),n.classList.add("grid-gameplay-inactive"))}onActiveChange(t){const e=t===this.player1?this.player2:this.player1;this.activate(this.getElements(t),!0),this.activate(this.getElements(e),!1)}onShipSunk(t,e){const i=this.getElements(t);if(!i)return;const{ships:s}=i;s.container.querySelector(`[data-name="${e.name}"]`).classList.add("ship-gameplay-sunk")}}function w(t){return void 0!==t&&!Number.isNaN(t)}class b extends S{constructor(t){super(t),this.startX=-1,this.startY=-1,this.isDragging=!1,this.container.addEventListener("dragleave",this.resetHighlight.bind(this))}highlightCells({length:t,horizontal:e},i,s,n){for(let r=0;r<t;r+=1){const t=e?i:i+r,a=e?s+r:s,h=this.container.querySelector(`.grid-item[data-x="${t}"][data-y="${a}"]`);h&&(h.classList.remove("grid-item-valid"),h.classList.remove("grid-item-invalid"),h.classList.add(n?"grid-item-valid":"grid-item-invalid"))}}resetHighlight(){this.container.querySelectorAll(".grid-item").forEach((t=>{t.classList.remove("grid-item-valid"),t.classList.remove("grid-item-invalid")}))}renderShip(t,e,i){const s=super.renderShip(t,e,i);return s.setAttribute("draggable",!0),s.addEventListener("mousedown",this.handleStart.bind(this)),s.addEventListener("touchstart",this.handleStart.bind(this)),s.addEventListener("mousemove",this.handleMove.bind(this)),s.addEventListener("touchmove",this.handleMove.bind(this)),s.addEventListener("mouseup",(()=>this.handleEnd(t,s))),s.addEventListener("touchend",(()=>this.handleEnd(t,s))),s}rotateShip(t,e){const i=e;if(!i)return;const[s,n]=i.style.gridArea.split(" / "),r=parseInt(s-1,10),a=parseInt(n-1,10);if(!this.gameboard.rotateShip(r,a))return void this.animateInvalidRotation(i);const h=!("true"===i.dataset.horizontal);i.dataset.horizontal=h,h?i.classList.remove("ship-placed-vertical"):i.classList.add("ship-placed-vertical"),i.style.width=this.calculateShipWidth(a+1,t.length)}handleStart(t){this.isDragging=!1,this.startX=t.clientX||t.touches[0].clientX,this.startY=t.clientY||t.touches[0].clientY}handleMove(t){const e=this.startX-(t.clientX||t.touches[0].clientX),i=this.startY-(t.clientY||t.touches[0].clientY);(Math.abs(e)>5||Math.abs(i)>5)&&(this.isDragging=!0)}handleEnd(t,e){this.isDragging||this.rotateShip(t,e),this.isDragging=!1}async animateInvalidRotation(t){t.classList.add("rotation-invalid"),await s(300),t.classList.remove("rotation-invalid")}}class L extends c{constructor(t,e,i,s,n){super(t,"ship-draggable"),this.onDragStart=e,this.onTouchStart=i,this.onTouchMove=s,this.onTouchEnd=n}createShip(t){const e=super.createShip(t);return e.setAttribute("draggable",!0),e.addEventListener("dragstart",this.onDragStart),e.addEventListener("touchstart",this.onTouchStart),e.addEventListener("touchmove",this.onTouchMove),e.addEventListener("touchend",this.onTouchEnd),e}}class E{constructor(t,e){this.shipsArr=v(t),this.grid=new b(e.grid),this.draggableShips=new L(e.ships,(t=>this.handleDragStart(t,".ship",!1)),(t=>this.handleTouchStart(t,".ship",!1)),(t=>this.handleTouchMove(t,!1)),this.handleTouchEnd.bind(this)),this.wrapper=document.querySelector(e.wrapper),this.randomizeBtn=document.querySelector(e.randomizeBtn),this.playBtn=document.querySelector(e.playBtn),this.gameboard=null,this.draggedShip=null,this.draggedShipElement=null,this.randomizeBtn.addEventListener("click",this.handleRandomize.bind(this)),this.grid.container.addEventListener("dragover",this.handleDragOver.bind(this)),this.grid.container.addEventListener("drop",this.handleDrop.bind(this))}init(t,e){this.gameboard=t,this.grid.init(t),this.grid.render(),this.draggableShips.render(v(this.shipsArr)),this.playBtn.onclick=e,this.toggleComponentsVisibility()}handleDragStart(t,i,s){const n=t.target.closest(i),{name:r,length:a,horizontal:h}=n.dataset,o=new e(r,parseInt(a,10),"true"===h);if(this.draggedShip=o,this.draggedShipElement=n,s&&this.removeMovedShip(),!o.horizontal){const e=n.querySelector("svg").cloneNode(!0),i=document.createElement("div");i.style.width=`${n.clientWidth}px`,i.style.height=`${n.cientHeight}px`,i.style.position="absolute",i.style.top="-9999px",e.style.transform="rotate(90deg)",e.style.transformOrigin="top left",i.appendChild(e),document.body.appendChild(i),t.dataTransfer.setDragImage(i,0,0),t.target.addEventListener("dragend",(()=>i.remove()))}}handleTouchStart(t,i){t.preventDefault();const{clientX:s,clientY:n}=t.touches[0],r=document.elementFromPoint(s,n).closest(i),{name:a,length:h,horizontal:o}=r.dataset,l=new e(a,parseInt(h,10),"true"===o);this.draggedShip=l,this.draggedShipElement=r}handleDragOver(t){if(t.preventDefault(),!this.draggedShip)return;this.grid.resetHighlight();const e=parseInt(t.target.dataset.x,10),i=parseInt(t.target.dataset.y,10);if(!w(e)||!w(i))return;const s=this.gameboard.isValidPlacement(this.draggedShip,e,i);this.grid.highlightCells(this.draggedShip,e,i,s)}handleTouchMove(t,e){if(t.preventDefault(),!this.draggedShip)return;e&&this.grid.isDragging&&this.removeMovedShip(),this.grid.resetHighlight();const{clientX:i,clientY:s}=t.touches[0];this.draggedShipElement.style.position="fixed",this.draggedShipElement.style.left=`${i+4}px`,this.draggedShipElement.style.top=`${s+4}px`,this.draggedShipElement.style.width=25*this.draggedShip.length+"px";const n=document.elementFromPoint(i,s).closest(".grid-item");if(n&&n.dataset.x&&n.dataset.y){const t=parseInt(n.dataset.x,10),e=parseInt(n.dataset.y,10);if(!w(t)||!w(e))return;const i=this.gameboard.isValidPlacement(this.draggedShip,t,e);this.grid.highlightCells(this.draggedShip,t,e,i)}}handleDrop(t){t.preventDefault();let e=parseInt(t.target.dataset.x,10),i=parseInt(t.target.dataset.y,10);w(e)&&w(i)||([e,i]=this.draggedShipElement.style.gridArea.split(" / "),e-=1,i-=1),w(e)&&w(i)&&this.gameboard.isValidPlacement(this.draggedShip,e,i)&&this.placeShipOnGrid(this.draggedShip,e,i),this.grid.resetHighlight(),this.draggedShip=null,this.draggedShipElement=null}handleTouchEnd(t){if(t.preventDefault(),!this.draggedShip)return;const{clientX:e,clientY:i}=t.changedTouches[0],s=document.elementFromPoint(e,i).closest(".grid-item");if(s&&s.dataset.x&&s.dataset.y){let t=parseInt(s.dataset.x,10),e=parseInt(s.dataset.y,10);w(t)&&w(e)||([t,e]=this.draggedShipElement.style.gridArea.split(" / ")),w(t)&&w(e)&&this.gameboard.isValidPlacement(this.draggedShip,t,e)&&this.placeShipOnGrid(this.draggedShip,t,e)}["position","left","top","width"].forEach((t=>this.draggedShipElement.style.removeProperty(t))),this.grid.resetHighlight(),this.draggedShip=null,this.draggedShipElement=null}handleRandomize(){this.gameboard.clear(),this.gameboard.randomize(v(this.shipsArr)),this.grid.render(),this.draggableShips.clear(),this.renderShipsOnGrid()}renderShipsOnGrid(){const{size:t,grid:e}=this.gameboard,i=[];for(let s=0;s<t;s+=1)for(let n=0;n<t;n+=1){const{ship:t}=e[s][n];t&&!i.find((e=>e===t.name))&&(this.renderPlacedShip(t,s,n),i.push(t.name))}}renderPlacedShip(t,e,i){const s=this.grid.renderShip(t,e,i);s.addEventListener("dragstart",(t=>this.handleDragStart(t,".ship-placed",!0))),s.addEventListener("touchstart",(t=>this.handleTouchStart(t,".ship-placed"))),s.addEventListener("touchmove",(t=>this.handleTouchMove(t,!0))),s.addEventListener("touchend",this.handleTouchEnd.bind(this)),this.toggleComponentsVisibility()}removeMovedShip(){const{gridArea:t}=this.draggedShipElement.style;if(!t)return;const[e,i]=t.split(" / ");this.gameboard.removeShip(parseInt(e,10)-1,parseInt(i,10)-1)}placeShipOnGrid(t,e,i){this.draggedShipElement.remove(),this.gameboard.placeShip(t,e,i),this.renderPlacedShip(t,e,i)}toggleComponentsVisibility(){const{placedShips:t}=this.grid;t&&this.shipsArr&&(t.size===this.shipsArr.length?(this.playBtn.disabled=!1,r(this.draggableShips.container)):(this.playBtn.disabled=!0,n(this.draggableShips.container)))}}const x=new class{constructor(){this.player1=null,this.player2=null,this.shipsArr=[new e("carrier",5),new e("battleship",4),new e("destroyer",3),new e("submarine",3),new e("small",2)],this.shipPlacement=new E(this.shipsArr,{wrapper:".ship-placement",grid:".grid-ship-placement",ships:".ship-placement-ships",randomizeBtn:".btn-randomize",playBtn:".btn-play"}),this.gameplay=new C(this.shipsArr,this.onGameOver.bind(this)),this.flipScreen=new p(".message-flip-screen",".message-flip-screen-icon"),this.screenMessages=function(t){return{hideScreen:new V(".message-hide-screen",(()=>{const e=new u("PLAYER 1",!1),i=new u("PLAYER 2",!1);t.init(".message-hide-screen",e,i)}),t.flipScreen),passScreen:new V(".message-pass-screen",(()=>{t.openSecondPlayerShipPlacement(".message-pass-screen")}),t.flipScreen)}}(this),this.botMessage=new H(".message-bot",".message-bot-ships",this.shipsArr,this.flipScreen),this.gameOverMessage=new g(".message-gameover",".main",this.flipScreen)}init(t,e,i){this.player1=e,this.player2=i,this.openShipPlacement(e.gameboard,t,(()=>{this.player2.computer?this.botMessage.open(this.shipPlacement.wrapper,(()=>{this.player2.gameboard.randomize(this.shipsArr),this.startGame(this.botMessage.container)})):(this.flipScreen.setHidden(this.screenMessages.passScreen.container),a(this.shipPlacement.wrapper,this.screenMessages.passScreen.container))}))}openShipPlacement(t,e,i){this.shipPlacement.init(t,i),this.flipScreen.setHidden(this.shipPlacement.wrapper),a(e,this.shipPlacement.wrapper)}openSecondPlayerShipPlacement(t){this.openShipPlacement(this.player2.gameboard,t,(()=>this.startGame(".ship-placement")))}startGame(t){this.player1&&this.player2&&(this.gameplay.init(this.player1,this.player2),this.flipScreen.setHidden(this.gameplay.wrapper),a(t,this.gameplay.wrapper))}resetShips(){const{player1:t,player2:e}=this.gameplay.elements;[t,e].forEach((({grid:t})=>t.player.gameboard.ships.forEach((t=>t.reset()))))}onGameOver(t){r(this.gameplay.wrapper),this.resetShips(),this.gameOverMessage.open(t)}},M=document.querySelector(".main"),z=document.querySelector(".gamemode-btns");!function(){const e=t("FRIEND",'<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 51C12 42.1634 19.1634 35 28 35H36C44.8366 35 52 42.1634 52 51C52 55.4183 48.4183 59 44 59H20C15.5817 59 12 55.4183 12 51Z" fill="white"/>\n<path d="M32 31C39.1797 31 45 25.1797 45 18C45 10.8203 39.1797 5 32 5C24.8203 5 19 10.8203 19 18C19 25.1797 24.8203 31 32 31Z" fill="white"/>\n</svg>\n',(()=>a(M,x.screenMessages.hideScreen.container))),i=t("BOT",'<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 51C12 42.1634 19.1634 35 28 35H36C44.8366 35 52 42.1634 52 51C52 55.4183 48.4183 59 44 59H20C15.5817 59 12 55.4183 12 51Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M34 7C34 7.74028 33.5978 8.38663 33 8.73244V11H38C41.7277 11 44.8599 13.5495 45.748 17H46C48.2091 17 50 18.7909 50 21C50 23.2091 48.2091 25 46 25H45.748C44.8599 28.4505 41.7277 31 38 31H26C22.2723 31 19.1401 28.4505 18.252 25H18C15.7909 25 14 23.2091 14 21C14 18.7909 15.7909 17 18 17H18.252C19.1401 13.5495 22.2723 11 26 11H31V8.73244C30.4022 8.38663 30 7.74028 30 7C30 5.89543 30.8954 5 32 5C33.1046 5 34 5.89543 34 7ZM28 15C24.134 15 21 18.134 21 22C21 25.866 24.134 29 28 29H36C39.866 29 43 25.866 43 22C43 18.134 39.866 15 36 15H28Z" fill="white"/>\n<circle cx="27" cy="20" r="2" fill="white"/>\n<circle cx="37" cy="20" r="2" fill="white"/>\n<path d="M29 24.6C29 24.2686 29.2686 24 29.6 24H34.4C34.7314 24 35 24.2686 35 24.6C35 25.9255 33.9255 27 32.6 27H31.4C30.0745 27 29 25.9255 29 24.6Z" fill="white"/>\n</svg>\n',(()=>{const t=new u,e=new u("BOT",!0);x.init(".main",t,e)}));z.append(e,i)}()})()})();
//# sourceMappingURL=main.bundle.js.map